(this["webpackJsonpcounter-project"]=this["webpackJsonpcounter-project"]||[]).push([[0],{12:function(e,t,n){e.exports={wrap:"App_wrap__13xEv"}},13:function(e,t,n){e.exports={button:"Button_button__1UAoq"}},14:function(e,t,n){e.exports={modalBlock:"SettingsModal_modalBlock__3xt0g"}},22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(5),l=n.n(r),o=(n(22),n(7)),u=n(12),s=n.n(u),i=n(2),j=n(4),b=n.n(j),d=n(13),m=n.n(d),f=n(1);var _=function(e){return Object(f.jsx)("button",{className:m.a.button,onClick:function(){e.callBack()},disabled:e.disabled,children:e.title})},x=n(8),O=n.n(x),V=function(e){var t=e.title,n=e.value,a=e.changeValue,r=Object(c.useState)(0),l=Object(o.a)(r,2),u=(l[0],l[1]);return Object(f.jsxs)("div",{className:O.a.screenBlock,children:[Object(f.jsx)("span",{className:O.a.screenTitle,children:t}),Object(f.jsx)("input",{className:O.a.screenInput,type:"number",value:n,onChange:function(e){u(e.currentTarget.value),a(e.currentTarget.value)}})]})},g=n(17),p=n(6),v=Object(p.b)({name:"counter",initialState:{value:0,minValue:1,maxValue:5,error:!1},reducers:{addValue:function(e){e.value<e.maxValue&&(e.value=e.value+1,e.error=!1),e.value===e.maxValue&&(e.error=!0)},resetValue:function(e,t){e.value=e.minValue,e.error=!1},setMinValue:function(e,t){e.minValue<0||e.minValue===e.maxValue?e.error=!0:(e.minValue=t.payload,e.error=!1),e.minValue=t.payload},setMaxValue:function(e,t){e.maxValue<0||e.maxValue===e.minValue?e.error=!0:(e.maxValue=t.payload,e.error=!1),e.maxValue=t.payload},setNewCounterSettings:function(e){e.value=e.minValue,localStorage.setItem("maxValue",JSON.stringify(e.maxValue)),localStorage.setItem("minValue",JSON.stringify(e.minValue))},setCurrentValue:function(e,t){e.value=t.payload}}}),S=Object(g.a)({},v.actions),h=v.reducer,k=function(e){var t=e.closeModal,n=Object(i.b)(),a=Object(i.c)((function(e){return e.counter.minValue})),r=Object(i.c)((function(e){return e.counter.maxValue})),l=Object(i.c)((function(e){return e.counter.error})),o=localStorage.getItem("maxValue"),u=localStorage.getItem("minValue");Object(c.useEffect)((function(){u&&n(j(Number(JSON.parse(u))))}),[]),Object(c.useEffect)((function(){o&&n(d(Number(JSON.parse(o))))}),[]);var s=S.setNewCounterSettings,j=S.setMinValue,d=S.setMaxValue;S.setCurrentValue;return Object(f.jsxs)("div",{className:b.a.setBlock,children:[Object(f.jsx)("h1",{className:b.a.title,children:"Settings for Counter"}),Object(f.jsxs)("div",{className:b.a.screen,children:[Object(f.jsx)(V,{title:"minValue",value:a,changeValue:function(e){n(j(e))}}),Object(f.jsx)(V,{title:"maxValue",value:r,changeValue:function(e){n(d(e))}})]}),Object(f.jsx)("div",{className:b.a.buttonsBlock,children:Object(f.jsx)(_,{title:"SET",callBack:function(){n(s()),t()},disabled:l})}),Object(f.jsx)("button",{className:b.a.cancel,onClick:function(){t()},children:"X"})]})},B=n(3),N=n.n(B),C=function(e){var t=e.incrValue,n=e.resetValue,a=e.openModal,r=S.setCurrentValue,l=Object(i.c)((function(e){return e.counter.error})),o=Object(i.c)((function(e){return e.counter.value})),u=Object(i.b)(),s=localStorage.getItem("minValue");s&&JSON.parse(s),Object(c.useEffect)((function(){u(r(Number(s)))}),[u]);return Object(f.jsxs)("div",{className:N.a.counterBlock,children:[Object(f.jsx)("h1",{className:N.a.title,children:"Counter"}),Object(f.jsx)("div",{className:N.a.screen,children:Object(f.jsx)("span",{className:l?N.a.error:"",children:o})}),Object(f.jsxs)("div",{className:N.a.buttonsBlock,children:[Object(f.jsx)(_,{title:"Incr",callBack:function(){t(),localStorage.setItem("1","1")},disabled:l}),Object(f.jsx)(_,{title:"Reset",callBack:function(){n(0)},disabled:!1})]}),Object(f.jsx)("div",{className:N.a.settingsBlock,children:Object(f.jsx)("button",{onClick:function(){a()},children:"settings"})})]})},I=n(14),F=n.n(I),T=function(e){var t=e.children;return Object(f.jsx)("div",{className:F.a.modalBlock,children:t})};var y=function(){var e=Object(i.b)(),t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],l=S.addValue,u=S.resetValue;return Object(f.jsxs)("div",{className:s.a.wrap,children:[Object(f.jsx)(C,{incrValue:function(){e(l())},resetValue:function(t){e(u(t))},openModal:function(){r(!0)}}),a&&Object(f.jsx)(T,{children:Object(f.jsx)(k,{closeModal:function(){r(!1)}})})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),r(e),l(e)}))},J=n(16),w=n(15),E=Object(J.a)({counter:h}),A=Object(p.a)({reducer:E,middleware:function(e){return e().prepend(w.a)}});A.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("app-state",t)}catch(n){}}({counter:A.getState().counter})})),l.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(i.a,{store:A,children:Object(f.jsx)(y,{})})}),document.getElementById("root")),M()},3:function(e,t,n){e.exports={counterBlock:"Counter_counterBlock__3jsxs",title:"Counter_title__2z_hA",screen:"Counter_screen__7lrMJ",buttonsBlock:"Counter_buttonsBlock__3j44S",error:"Counter_error__3-TCj",screenText:"Counter_screenText__1i3WN",settingsBlock:"Counter_settingsBlock__2U6sg"}},4:function(e,t,n){e.exports={setBlock:"SettingsForCounter_setBlock__fSW4F",title:"SettingsForCounter_title__19WbB",screen:"SettingsForCounter_screen__ILVTT",buttonsBlock:"SettingsForCounter_buttonsBlock__3VJ8H",active:"SettingsForCounter_active__TSoRW",cancel:"SettingsForCounter_cancel__2j1kF"}},8:function(e,t,n){e.exports={screenBlock:"ScreenBlock_screenBlock__1wIOn",screenInput:"ScreenBlock_screenInput__2l1P3",errorInput:"ScreenBlock_errorInput__1bPAm"}}},[[28,1,2]]]);
//# sourceMappingURL=main.a8cf560d.chunk.js.map